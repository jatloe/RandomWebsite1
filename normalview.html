<!DOCTYPE html>
<html>
   <head>
      <style>
         #welcome{
         text-align: center;
         }
      </style>
   </head>
   <body onload="setWelcome();">
      <h1 id="welcome">Welcome, null.</h1>
      <button type="button" onclick="addOne()" id="addbutton">You have 0 points. (Doesn't save)</button>
      <h4 id="binPrompt">Convert null to binary.</h4>
      <button type="button" onclick="binInput(1)">Input 1</button>
      <button type="button" onclick="binInput(0)">Input 0</button>
   </body>
   <script>
      let buttonclicks=0;
      let binaryanswer=[1,0,0,0,0,0,0,0];
      let binarysum=128;
      let onindex=0;
      function setWelcome(){
         var user = window.localStorage.getItem("user");
         document.getElementById("welcome").innerHTML="Welcome, " + user + ".";
         setBinary();
      }
      function setBinary(){
         binarysum=128;
         onindex=0;
         for (let i=1;i<8;i++) {
            binaryanswer[i]=Math.floor(Math.random() * 2);
            binarysum+=Math.pow(2,7-i)*binaryanswer[i];
         }
         document.getElementById("binPrompt").innerHTML="Convert " + binarysum + " to binary."
      }
      function addOne(){
         buttonclicks=buttonclicks+Math.floor(Math.log(buttonclicks+3));
         document.getElementById("addbutton").innerHTML="You have " + buttonclicks + " points. (Doesn't save)";
      }
      function binInput(x){
         if (x==binaryanswer[onindex]) {
            if (onindex<7) {
               onindex+=1;
               document.getElementById("binPrompt").innerHTML = document.getElementById("binPrompt").innerHTML + x;
            } else {
               buttonclicks=buttonclicks*10;
               setBinary();
               document.getElementById("addbutton").innerHTML="You have " + buttonclicks + " points. (Doesn't save)";
            }
         } else {
            window.location.replace("https://www.youtube.com/watch?v=dQw4w9WgXcQ");
         }
      }
   </script>
</html>
