<!DOCTYPE html>
<html>
  <head>
    <link rel="icon" href="jatloesmile-hd.png">
    <title>ISL puller</title>
  </head>
  <body>
	<p>V1.3, 1998-2021</p>
	<p>Put one letter for the subject, you can leave boxes empty to search through all of that category</p>
	<p>There is a known bug where 2006 c8 redirects to 2006 g8 for some reason</p> <br>
	<input type="text" id="year" placeholder="Year" size="3">
	<input type="text" id="subject" placeholder="Subject" size="3">
	<input type="text" id="number" placeholder="Number" size="3">
	<input type="button" value="Search" onclick="getProblems()">
	<br> <br> <br>
	<div id="outside"><div id="container"></div></div>
  </body>
  
  <script>
	function makeImage(src) {
		let img = document.createElement("img");
		img.src = src;
		img.width = "1000";
		document.getElementById("container").appendChild(img);
		document.getElementById("container").appendChild(document.createElement("br"));
	}
  
	function getProblems() {
		document.getElementById("container").remove();
		let newDiv = document.createElement("div");
		newDiv.id = "container";
		document.getElementById("outside").appendChild(newDiv);
		
		let years = [];
		for (let i = 1998; i <= 2021; i++) years.push(i);
		if (document.getElementById("year").value != "") years = [document.getElementById("year").value];
		let subjects = ["a","c","g","n"];
		if (document.getElementById("subject").value != "") subjects = [document.getElementById("subject").value];
		let numbers = [];
		for (let i = 1; i <= 10; i++) numbers.push(i);
		if (document.getElementById("number").value != "") numbers = [document.getElementById("number").value];
		
		for (let i = 0; i < years.length; i++) {
			for (let j = 0; j < subjects.length; j++) {
				for (let k = 0; k < numbers.length; k++) {
					makeImage("https://ggim.me/images/imo_shortlist/" + years[i] + "/" + subjects[j] + numbers[k]);
				}
			}
		}
	}
	
	document.onkeyup = function(e) {
        if (e.which == 13) {
            getProblems();
        }
    };
  </script>
</html>
